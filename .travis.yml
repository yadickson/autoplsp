language: java
sudo: false
script:
- mvn cobertura:cobertura
after_success:
- bash <(curl -s https://codecov.io/bash)
- mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent package sonar:sonar -Dsonar.host.url=https://sonarcloud.io -Dsonar.organization=${SONAR_ORG}  -Dsonar.login=${SONAR_TOKEN}
deploy:
  skip_cleanup: true
  provider: script
  script: make -f deploy.mk
  on:
    tags: true
env:
  global:
  - secure: iOIQHfSe+7a0ZX4YJyGTWyvN0exyRhrDe1imJe6Xu5tExk/pWn804e3tYLeiDOhvniiA1DbGiWZYPbOKmmLD+4g6ZgWQGIhdtHcGhZd+OgxTNFuLiEzIixURGs8QebBUiaGc4hkfOdCTEhtjQg/lwI530o1VNH5VSOFEhP0katf6gAANZOdGa18MxIa5xU/u1JFlh2LB8ce46ag6WoM84dxZVFHvenvIgvKNfGI2UCCPaUY+roWKzs0/7f/AoNa85kd5ydSq6Gm8t30DPgDWvo6ONUCM8mUz79H2578jeBc/AHtPUpHSBxAoGZ4x9mkBy449J8xoifX6jhUkW45UaqxS28c55F2MF6Sxz6ne0LF80ufQ7Fc3mymHYMTRC8xVyCXYcsqPQ3S72dVbobZWKpXyStz1yJjXqlDstsggn6dEn8M22ZRvsnipeEFVJ+E1Ng2vBKfBC31YVOIH4mrZxRv2HyuCp28Hlvb4esUKRvIMDfGJmS7bnNX/OF9Vnu4uUGDGTY4prGMFK4UHv5V4coXqVt4oTg4nSOCT84hU4ffKw8pNy2VqS90D9uG3rIf+CQaf6RYfj7AakbF3tk0VxOCDsrjB31IzJADw0mEctOXKAhpyiFJQiG8RGnRxPs8KetKebRqRAvIN4UZOyhSjtspQlBhdMWbsOc+SdaTGskc=
  - secure: gq5lB+MmSkLpAGphP5L5QtMcCoiEFO/cfmw75KnyPfThVMT8b33/RPeFKVmFm3sQOn6aOBZU2BlV7GY4xdcLoe2RFjl4ZYK5mjwkIryVIWaFuh+Lk042Ks+nbe0tYSWa/hLwWh2JRUGnGTlCm+xlodOE5f+nCKNXbyVpsPnAItfDVRYVVnFeB4uxgmDamW2fHktphsCRMjPpv8E3afDy6A+vodss5ocC8auoCuFtwL1wi6pCIZPce3UPR+0HxCorU3jgHKtXNkozFP9KnvrhJhfrlBFln2YOiazzP6muxjQtA6J7O+fMYYMa29QgQX8bEi8nA1UMHP0RQG11fq8UfZoKRF+SBtjyz7Q0ssOuypLG80GswOglpT6uZyYckBT/31Zo2+cteklix9/QiljCFeyzJqGCPqhGyvilHeUxlM4SzRem7TipuF/b5GNL0cG5KeFj1H0XUq24BjNAG+chmxlXecHA7+RH7R0b3vm7Jpb9VLN/THXdEYDSQCTbOY25I4TijXIsc2lQL41ysC5cQiVqYfbp05Dp2iVF+GNAeqJQCTc2PBDcHfHcqd9w7xzedi+X5lIuGCvKNkQDkV+SHOcmvVLVGsqvEEGadpm98cc8x1AnYwrmXPZdYJZ3XShpC8W1QB7jfb3w7cXPis4DEZi+utVAUtgFuFqw4MYUvgw=
  - secure: bcFRwuepBk1M+1Wh4AX+6rerUz5fheQpYgVYUpK8X8b17KOTU51AyFLX+AHQZcsqglUXJr3NCwwD1pdVuf/X25xL2H0WsyLcI9Ssu9WdVJl7lF6g2Wd2bTwQs2yqoOfoF2kRpOtwAoW7x+qbYSWdrBDBM8qwOrmZSJYFyGnJDaKvD3WFbZQty7jJqKNcCSnf9Qs8bVFgLJc0TPRHg2QcAJM7MSUaqsOavsEJDCb9VihrP8FFPL+enC2v5swYsTbOC1x4V1Z1YcvhwFbhC7fvfNjMMjpc5PgNiktiWY+fa+X8WP/FfHan8p7AOlEXQS4rpG1G2UkaxAcflTCaE3WQ3VB/LCyMx2miPNusYP1PAesNOv4kcY8z06XuIIjCo9Tf3A1MqO2qZJcz9pKGsv8dJyYqzTvWx1RYw2uI96RPLncGnxaFwBliaNMeJKvBEiBE5N1gwAuipkKtc4ii/xKBTPfkY+8lUwkQ8uLIGpKWNP6/2sCxLF+aso8kjOaK0DAiqi2MiUL+BuAYcbmObTwS5jtYUligg/KWq1K6AYJSb8lYxklEAh+QZHDJeq4dlzFTDd/qm6Rw3fNAWDUrkAt7Y05U0YGdNJhwYC615p6VDQ3hS5wwfEHEXb5rY+V38YrKdWHW4RkQL9LghD36lBt15aX/ZLcGSE8U9cSBu/pw0JI=
  - secure: vvptmYqRLDUpZMB8mo9MH/2Jy/GNN9eO5+/iGGkMpRxzS2BPLjUECqcXE1Fi5ngR2mysD9PzNUleQFvPnFMoU14BMSLUF/oYN8JUdbX/S4ZE3MMAvjPXBrEllRcLBvZfDHMjzd0zJukWMWmWvdK6JYC8iKzxbEXOJE8Qx530bjhkLUm8wxx6+A8alauwh4KLhW+ySLpUDtZ19lcQMjRWMcc4NftvguSekNHM4M6KDdMBNFUwYmqm/kEHNlezJ+54UW0udePB1Bo/wM5cnkaQ5ekDBtSsDQrMtXVbfnhazLSNpNLue+T5eJCK/or/jJuJTgGHP7Th/csOsg0xNUPpfpzPeRBE16jquTiPknVk6AvV3Dj/mpGaXs4vw6F8u/Xv0NNgGtgW94+wiUyejDcWsfRvT09AKlzXjJYhZqLD0kcjOkd3gdrEgz2O5SyrjtpB/Jv9eKlvMlNloJ/dmZnPkjtyqwhATvlOqXnJD/mhMXrybOHj+oo7VZirtc53Qekvhe9SFr5KrM4QY8zxZXn5t55mxOMI/Dl7ZwbIAFN8ffU+4uiYrsJ7DiMI6o9ZLu96590zqAsrlK/jY4/fBJ4Crfpq4y2mH2oQCTFFpRtIqFBi2pz73OQlfFwbgr0s7UostUXEj5F5N1/sRs43Hu7ryx2mO3RqafWydPvOMKSQLsE=
  - secure: wux4sIhpS975+OwBfnZQIB9Zb3qf2mQkf2aYTb1gDKUZ1t9Viigpg4hlMnN09g361pouLhqxwois6PpSa/JTdE2Pd+IW36jDm0Kg7rFN0tZ3VWbP2og0VjUq/9STxAHMIi8MOS5jvJX0XSlVoFz5kyBtsJuWEzeNpSytYVH6t0ZXOdUCqboUgbqIQ3TqehpedbWDjrWaFUwAlYBGq0cK1h0/vBEhiBWrilABjG3O+uhLwDHfoV7+aKNck98F9UrMAGWjFKQ0pmvJuT1utixVHSIfZI0hpDCxqKs2xcVJUGPJxT3VLz/n4+rIqR2ULce4RESeIfCSuidTiSVo0Z7tDPw8hDCBvNtpVQwfap2RZf73rmETIvrK58H27D1wnae0o3Lo4KgiZMLr5ObV9PpEMaccrC6C7t0eJyD36uiAzrhUo3Kjixq2C14m4QHXyIxclm0kINW337i3AQyJikVUppGzTWa8zev5d7Oz/ORlPV2nvU/eNQS+qkb8ToUv4H4zBJzfAQD4vVAQpeNnEle+K2iTyxQiB0Qy0+e3AtH9H9g3vLedmxw/cCSjjShVk49YJS2yYbwl7QJ5t7RjQO8Ua3RReDUohmXeR13kDyeZ3IqQ4qXDgLB/x0n/Ugocas8E9roe1P8ti8qEX/+EhcA8bDh6JMq1D8nPq4lOUMncXiQ=
  - secure: iy8/zLhnyRmh8rgEvr8EcTn/jfowPlWXkgEBLy0BBCXeJnGZcmAZeRdNes1mjOIM24L9ECdyCvZF4wg7Bi9XW9yf8PO4d6avEO33e4dj7oGtZtueh0NIqirGarD3I6ZES3kd7t0THOwwdc8co+IH+J8bxLfnR7f5rUt0hOIsrTvtvrFJIXPbqpyVFwDHqY/tORdkyJlbH/DfcSXBgZ1/H/fFKVioxWkEDd/iFU/uuDvMrMphiUgn25TA4f2itNdmNpWjtkjBGX54I/ouh1NvSPMSMXsuKLW5N5RcecPMisF52ye/B7Bycpoe0FGq6cJUcXlXbul4tRP9OoT+28cFahQdvY8wmCRonxiByuOj8B2yHA7vvEQ+/0G1QI9TtRyQXMBPQdpmPAVGFmYGl2IGd9xJq2Pi5/DLdRfXPr0jfAk8OIKp8IO7milYPnvuFbTIR4kp+RFEw1SqiS4a6azahdNfEnI8RV7IUSIO3IyEpLvtlbcb18BDGOXpXOFXRyUyiaeepv7DCyN8zpM2Qc3zXFHzpxOj+of22Oy3I3dSyVXIYgzoat2UjtZGtK0isdFkX7GjXHs3WhMlOKlCr/IaTY6tI8GIzIzJKuD1XGfPLwudrkFPzPWncfP7cP7Lys/Gntfgsv3LQBhH1T80ba3Q4aUEDxQMKgmgV8kuxTx0cig=
